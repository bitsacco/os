# Development environment variables for Bitsacco OS

# Application
NODE_ENV=development
PORT=4000

# Database
DATABASE_URL=mongodb://localhost:27017/bitsacco-dev

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRATION=7d

# Auth JWT Configuration (for auth module)
AUTH_JWT_SECRET=your-super-secret-auth-jwt-key-change-this-in-production
AUTH_JWT_EXPIRATION=7d
AUTH_JWT_AUD=bitsacco-api
AUTH_JWT_ISS=bitsacco-auth

# SMS Configuration (Africa's Talking)
SMS_AT_API_KEY=your-africas-talking-api-key
SMS_AT_USERNAME=your-africas-talking-username
SMS_AT_FROM=BITSACCO
SMS_AT_KEYWORD=bitsacco

# Nostr Configuration
NOSTR_PUBLIC_KEY=your-nostr-public-key
NOSTR_PRIVATE_KEY=your-nostr-private-key

# Fedimint and LNURL Configurations
# These configurations are shared by Solowallet, Chama, and LNURL modules
CLIENTD_BASE_URL=http://localhost:2121
CLIENTD_PASSWORD=your-fedimint-password
FEDERATION_ID=your-federation-id
GATEWAY_ID=your-gateway-id

LNURL_DOMAIN=bitsacco.com
LNURL_CALLBACK_BASE_URL=https://api.bitsacco.com
LNURL_SIGNING_SECRET=your-lnurl-signing-secret-change-this-in-production

# Swap Module Configuration
SWAP_CLIENTD_BASE_URL=http://localhost:2121
SWAP_CLIENTD_PASSWORD=your-fedimint-password
SWAP_FEDERATION_ID=your-federation-id
SWAP_GATEWAY_ID=your-gateway-id

# Chama Module Configuration
CHAMA_EXPERIENCE_URL=https://app.bitsacco.com
BITLY_TOKEN=your-bitly-token

# Exchange Rate Configuration
MOCK_BTC_KES_RATE=8708520.117232416
CURRENCY_API_KEY=your-currency-api-key

# Intasend Configuration (for M-Pesa integration)
INTASEND_PUBLIC_KEY=your-intasend-public-key
INTASEND_PRIVATE_KEY=your-intasend-private-key

# Rate Limiting Configuration
THROTTLE_TTL=60
THROTTLE_LIMIT=120
IP_RATE_LIMIT_ENABLED=true
IP_RATE_LIMIT=30
IP_RATE_LIMIT_WINDOW=60

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# OpenTelemetry Configuration (Optional)
OTEL_ENABLED=false
OTEL_SERVICE_NAME=bitsacco-api
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_METRICS_ENABLED=false
OTEL_PROMETHEUS_PORT=9090

# Redis Configuration (Optional)
REDIS_URL=redis://localhost:6379

# API Documentation
SWAGGER_ENABLED=true
SWAGGER_TITLE=Bitsacco API
SWAGGER_DESCRIPTION=API documentation for Bitsacco OS
SWAGGER_VERSION=1.0.0

# Security
API_KEYS_ENABLED=true
GRPC_API_KEY_ENABLED=true

# Logging
LOG_LEVEL=debug
PRETTY_LOGS=true

# Transaction Timeout Configuration
# Time before PENDING transactions are considered stuck and need intervention
TX_TIMEOUT_PENDING_MINUTES=15
# Time before PROCESSING transactions are considered stuck and need intervention
TX_TIMEOUT_PROCESSING_MINUTES=30
# Maximum number of times to retry checking a stuck transaction before marking it as FAILED
TX_TIMEOUT_MAX_RETRIES=3
# How often (in seconds) to check for stuck transactions
TX_TIMEOUT_CHECK_INTERVAL_SECONDS=60
# Specific timeout for deposit transactions (onramp)
TX_TIMEOUT_DEPOSIT_MINUTES=15
# Specific timeout for withdrawal transactions
TX_TIMEOUT_WITHDRAWAL_MINUTES=30
# Specific timeout for LNURL withdrawal requests
TX_TIMEOUT_LNURL_MINUTES=30
# Specific timeout for offramp (withdrawal to fiat) transactions
TX_TIMEOUT_OFFRAMP_MINUTES=15
